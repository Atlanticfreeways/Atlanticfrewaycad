# Atlanticfrewaycard Environment Variables & Setup Guide
# Populate these keys in your local .env file

# ==============================================================================
# 1. SERVER CONFIGURATION
# ==============================================================================
NODE_ENV=production
PORT=3000
API_BASE_URL=http://localhost:3000

# ==============================================================================
# 2. DATABASE CREDENTIALS
# ==============================================================================

# PostgreSQL (Primary Data)
# WAALKTHROUGH:
# 1. Local: Install PostgreSQL (`brew install postgresql`) and run `createdb atlanticfrewaycard`.
# 2. Cloud: Sign up at Supabase (https://supabase.com) or Neon (https://neon.tech).
# 3. Copy the "Connection String" from dashboard.
DATABASE_URL=postgresql://user:password@localhost:5432/atlanticfrewaycard

# MongoDB (Log/Audit Data)
# WALKTHROUGH:
# 1. Local: Install MongoDB Community Edition.
# 2. Cloud: Sign up at MongoDB Atlas (https://www.mongodb.com/atlas).
# 3. Create a free cluster -> "Connect" -> "Drivers" -> Copy Connection String.
MONGODB_URI=mongodb://localhost:27017/atlanticfrewaycard

# ==============================================================================
# 3. REDIS CONFIGURATION (Caching & Queues)
# ==============================================================================
# WALKTHROUGH:
# 1. Local: Install Redis (`brew install redis`) and run `redis-server`.
# 2. Cloud: Sign up at Upstash (https://upstash.com) or Redis Cloud.
# 3. Copy the REDIS_URL from the console.
REDIS_URL=redis://localhost:6379

# ==============================================================================
# 4. MESSAGE QUEUE (RabbitMQ)
# ==============================================================================
# WALKTHROUGH:
# 1. Local: Install RabbitMQ (`brew install rabbitmq`) or run via Docker:
#    `docker run -d --hostname my-rabbit --name some-rabbit -p 5672:5672 -p 15672:15672 rabbitmq:3-management`
# 2. Cloud: Sign up at CloudAMQP (https://www.cloudamqp.com).
# 3. Use the "URL" provided in the dashboard.
RABBITMQ_URL=amqp://guest:guest@localhost:5672

# ==============================================================================
# 5. MARQETA INTEGRATION (Card Issuing)
# ==============================================================================
# WALKTHROUGH:
# 1. Sign up for Marqeta Sandbox: https://www.marqeta.com/developer
# 2. Log in to the "Core" dashboard.
# 3. Go to "Administration" -> "Users" (or Application Setup) to generate tokens.
# 4. Webhook Secret: Go to "Webhooks" -> "Create Webhook" -> Copy the signing secret.
MARQETA_APP_TOKEN=your_app_token
MARQETA_ADMIN_TOKEN=your_admin_token
MARQETA_BASE_URL=https://sandbox-api.marqeta.com/v3
MARQETA_WEBHOOK_SECRET=your_webhook_secret

# ==============================================================================
# 6. SECURITY KEYS (Encryption)
# ==============================================================================
# WALKTHROUGH:
# Generate these locally using your terminal to ensure randomness.
# 1. JWT_SECRET: Run `openssl rand -hex 32`
# 2. PCI_KEY: Run `openssl rand -hex 32` (Must be exactly 32 bytes/64 hex chars)
JWT_SECRET=your_jwt_secret_key_min_32_chars
PCI_ENCRYPTION_KEY=32_byte_hex_key_for_aes_256

# ==============================================================================
# 7. MONITORING & LOGGING
# ==============================================================================

# Sentry (Error Tracking)
# WALKTHROUGH:
# 1. Sign up at https://sentry.io using GitHub.
# 2. Create a new "Node.js" project.
# 3. Go to "Settings" -> "Client Keys (DSN)" -> Copy the DSN URL.
SENTRY_DSN=https://examplePublicKey@o0.ingest.sentry.io/0

# Elasticsearch (Logging)
# WALKTHROUGH:
# 1. Local: Run via Docker `docker run -p 9200:9200 -e "discovery.type=single-node" elasticsearch:7.17.10`
# 2. Cloud: Sign up at Elastic.co (https://cloud.elastic.co).
ELASTICSEARCH_URL=http://localhost:9200
